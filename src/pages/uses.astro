---
import Layout from "../layouts/Default.astro";
import dayjs from "dayjs";
import { installedApps, lastUpdated } from "@/utils/getGist";
import { loadSvgs, getSvgUrl } from "@/utils/getSvgMatch";
const svgs = await loadSvgs();

const props = {
  title: "Uses",
  description: "Things that I use on an almost daily basis.",
};
---

<Layout {...props}>
  <main>
    <p>
      Last updated: <time datetime={`${lastUpdated}`}
        >{dayjs(lastUpdated).format("YYYY-MM-DD")}</time
      >
    </p>
    <h1 set:text="Uses" />
    <p set:html={props.description} />
    <section id="uses">
      <ul>
        <li x-data="{ id: 'hardware' }">
          <h3 x-text="id"></h3>
          <ul>
            <li set:text="iPhone 13 Mini" /><li set:text="MacBook Air M2" /><li
              set:text="AirPods Pro (2nd Gen)"
            /><li set:text="Apple Watch SE (1st Gen)" /><li
              set:html=" Apple TV 4K (2nd Gen)"
            />
          </ul>
        </li>
        <li x-data="{ id: 'other gear' }">
          <h3 x-text="id"></h3><ul>
            <li>
              <a
                target="_blank"
                rel="external"
                href="https://aranet.com/products/aranet4/"
                set:text="Aranet4"
              /><span set:text=" • " /><span set:text="CO2 monitor" />
            </li><li>
              <a
                target="_blank"
                rel="external"
                href="https://www.anker.com/products/y1811?variant=42206465327254"
                set:text="Anker 3-in-1 Cube with MagSafe"
              /><span set:text=" • " /><span set:text="wireless charger" />
            </li>
          </ul>
        </li>
        <li x-data="{ id: 'services' }">
          <h3 x-text="id"></h3><ul>
            <li>
              <a
                target="_blank"
                rel="external"
                href="https://vercel.com"
                set:text="Vercel"
              /><span set:text=" • " /><span set:text="hosting" />
            </li>
          </ul>
        </li>
        <li x-data="{ id: 'fonts' }">
          <h3 x-text="id"></h3><ul>
            <li>
              <a
                target="_blank"
                rel="external"
                href="https://monolisa.dev"
                set:text="MonoLisa"
              /><span set:text=" • " /><span set:text="dev font" />
            </li><li>
              <a
                target="_blank"
                rel="external"
                href="https://vercel.com/font"
                set:text="Geist"
              /><span set:text=" • " /><span set:text="web font" />
            </li>
          </ul>
        </li>
        <li x-data="{ id: 'shell setup' }">
          <h3 x-text="id"></h3><ul>
            <li>
              <a
                href="https://www.zsh.org/"
                target="_blank"
                rel="external"
                set:text="zsh"
              />
              <ul>
                <li>
                  <a
                    target="_blank"
                    rel="external"
                    href="https://gist.github.com/jacobdalamb/fb86121db4c731e0e4868483a68a6eee"
                    set:text="zshrc"
                  />
                </li>
                <li>
                  <a
                    target="_blank"
                    rel="external"
                    href="https://gist.github.com/jacobdalamb/6ed50d53225eabf75778b64b8d1fd8e3"
                    set:text="zprofile"
                  />
                </li>
              </ul>
            </li>
            <li>
              <a
                target="_blank"
                rel="external"
                href="https://www.nushell.sh/"
                set:text="nushell"
              /><span set:text=" • " /><span set:text="new preferred shell" />
              <ul>
                <li>
                  <a
                    target="_blank"
                    rel="external"
                    href="https://gist.github.com/jacobdalamb/7bd6be2c3e55bcece688c13cae486c85"
                    set:text="config"
                  />
                </li>
                <li>
                  <a
                    target="_blank"
                    rel="external"
                    href="https://gist.github.com/jacobdalamb/ccac1a73342f8b057efa9281e881370c"
                    set:text="env"
                  />
                </li>
              </ul>
            </li>
          </ul>
        </li>
        <li x-data="{ id: 'zed setup' }">
          <h3 x-text="id"></h3><ul>
            <li>
              <a
                target="_blank"
                rel="external"
                href="https://gist.github.com/jacobdalamb/24f8b9de66c5b3e8dba17381e2b78739"
                set:text="settings"
              />
            </li>
          </ul>
        </li>
        <li x-data="{ id: 'vscode setup' }">
          <h3 x-text="id"></h3><ul>
            <li>
              <a
                target="_blank"
                rel="external"
                href="https://gist.github.com/jacobdalamb/8f9100ca1aedabc8308dc94f5268dc28"
                set:text="extensions"
              />
            </li><li>
              <a
                target="_blank"
                rel="external"
                href="https://gist.github.com/jacobdalamb/40586ecc5127d210e22b8e936f9366cf"
                set:text="settings"
              />
            </li><li>
              <a
                target="_blank"
                rel="external"
                href="https://gist.github.com/jacobdalamb/db6d4416f806fe0ad53a3232be7bf4de"
                set:text="keybindings"
              />
            </li><li>
              <a
                target="_blank"
                rel="external"
                href="https://marketplace.visualstudio.com/items?itemName=miguelsolorio.symbols"
                set:text="file icon theme"
              />
            </li><li>
              <a
                target="_blank"
                rel="external"
                href="https://marketplace.visualstudio.com/items?itemName=miguelsolorio.fluent-icons"
                set:text="product icon theme"
              />
            </li>
          </ul>
        </li>
        <li x-data="{ id: 'apps' }">
          <h3 x-text="id"></h3>
          <ul>
            {
              installedApps.map((app) => {
                const svgUrl = getSvgUrl(app, svgs);

                return (
                  <li>
                    <a
                      set:text={app}
                      target="_blank"
                      rel="external"
                      href={
                        svgUrl
                          ? svgUrl
                          : `https://www.google.com/search?q=${app}`
                      }
                    />
                  </li>
                );
              })
            }
          </ul>
        </li>
      </ul>
    </section>
  </main>
</Layout>
